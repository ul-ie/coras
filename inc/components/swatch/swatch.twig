{#
    The Swatch Colour Component
    ---
    Available variables:
    - height (CSS Class)
    - bgColor (CSS Class)
    - label (String)
    - hex (String)
    - noIcon (Boolean)
 #}

<div
    x-data="{
        hexText: '{{ hex }}',
        copyToClipboard() {
            navigator.clipboard.writeText('{{ hex }}');
            this.hexText = 'Copied!'
            setTimeout(() => { this.hexText = '{{ hex }}'}, '2000');
        }
    }"

    x-on:click="copyToClipboard()"

    class="group relative w-full flex flex-col wrap m-1 p-1.5
    border border-slate-l5 rounded cursor-pointer
    dark:border-slate
    hover:border-slate-l4 hover:dark:border-slate-l1
    active:border-slate-l3 active:dark:border-slate"
    >

    <div 
        class="relative flex flex-col justify-end {{ height }} {{ bgColor }} p-[0.2rem] overflow-hidden"
        title="Click or tap to copy the hex code"
        >

        <div
            class="relative w-full h-full flex grow items-center justify-center
            opacity-0 bg-slate-d2 bg-opacity-50 text-slate-l5 text-sm
            group-hover:opacity-100 transition
            group-active:bg-opacity-70"
            >

            {% if not noIcon %}
            <div class="w-6">
                
                {% include '@assets/img/icons/copy.svg' with { classes: 'fill-white' } %}
            
            </div>
            {% endif %}
            
            <div x-text="hexText"></div>

        </div>

        <div 
            class="absolute left-1 bottom-1 w-fit px-1 py-0.25 
            bg-slate-d3 bg-opacity-70 text-slate-l5 text-sm opacity-100
            group-hover:opacity-0 transition"
            >

            <span>{{ label }}</span>

        </div>

    </div>
    
</div>